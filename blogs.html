<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no"
    />
    <title>my Blog</title>
    <link rel="stylesheet" href="css/blog.css" />
  </head>
  <body>
    <div class="hello">
      <nav>
        <ul>
          <li><a href="index.html">HOME</a></li>
          <li><a href="aboutme.html">ABOUT ME</a></li>
          <li><a href="skills.html">SKILLS</a></li>
          <li><a href="blogs.html">BLOGS</a></li>
          <li><a href="contactMe.html">CONTACT ME</a></li>
        </ul>
        <li class="btn" id="loginLogout"><a href="login.html">LOGIN</a></li>
      </nav>
    </div>
    <section id="blog">
      <div class="blog_header">
        <h3>My blog</h3>
      </div>
      <div class="blog-container" id="blogContainer">
        <div class="blog-box">
          <div class="blog-img">
            <img src="images/blog1.jpg" alt="blog" />
          </div>
          <div class="blog-text">
            <span>18/novermber/2022</span>
            <a href="#" class="blog-title">Blog title</a>
            <p>
              It is a long established fact that a reader will be distracted by
              the readable content of a page when looking at its layout. The
              point of using Lorem Ipsum is that it has a more-or-less normal
              distribution of letters, as opposed to using 'Content here,
              content here', making it look like readable English.
              <a href="#">Readmore</a>
            </p>
            <div class="comment-like">
              <span>3 Like</span>
              <span style="border-bottom: 1px dotted rgb(120, 119, 119)"
                >Comments</span
              >
            </div>
          </div>
        </div>
        <div class="blog-box">
          <div class="blog-img">
            <img src="images/blog1.jpg" alt="blog" />
          </div>
          <div class="blog-text">
            <span>18/novermber/2022</span>
            <a href="#" class="blog-title">Blog title</a>
            <p>
              It is a long established fact that a reader will be distracted by
              the readable content of a page when looking at its layout. The
              point of using Lorem Ipsum is that it has a more-or-less normal
              distribution of letters, as opposed to using 'Content here,
              content here', making it look like readable English.
              <a href="#">Readmore</a>
            </p>
            <div class="comment-like">
              <span>3 Like</span>
              <span style="border-bottom: 1px dotted rgb(120, 119, 119)"
                >Comments</span
              >
            </div>
          </div>
        </div>

        <div class="blog-box">
          <div class="blog-img">
            <img src="images/blog3.jpg" alt="blog" />
          </div>
          <div class="blog-text">
            <span>18/novermber/2022 </span>
            <a href="#" class="blog-title">Blog title</a>
            <p>
              It is a long established fact that a reader will be distracted by
              the readable content of a page when looking at its layout. The
              point of using Lorem Ipsum is that it has a more-or-less normal
              distribution of letters, as opposed to using 'Content here,
              content here', making it look like readable English.
              <a href="#">Readmore</a>
            </p>
            <div class="comment-like">
              <span>3 Like</span>
              <span style="border-bottom: 1px dotted rgb(120, 119, 119)"
                >Comments</span
              >
            </div>
          </div>
        </div>
        <div class="blog-box">
          <div class="blog-img">
            <img src="images/blog4.jpg" alt="blog" />
          </div>
          <div class="blog-text">
            <span>18/novermber/2022</span>
            <a href="#" class="blog-title">Blog title</a>
            <p>
              It is a long established fact that a reader will be distracted by
              the readable content of a page when looking at its layout. The
              point of using Lorem Ipsum is that it has a more-or-less normal
              distribution of letters, as opposed to using 'Content here,
              content here', making it look like readable English.
              <a href="#">Readmore</a>
            </p>
            <div class="comment-like">
              <span>3 Like</span>
              <span style="border-bottom: 1px dotted rgb(120, 119, 119)"
                >Comments</span
              >
            </div>
          </div>
        </div>
      </div>
    </section>
    <footer class="footer">
      <ul>
        <li><img src="images/whatsaap.png" alt="" /> 0781269242</li>
        <li><img src="images/email.png" alt="" /> iraguhamarthe@gmail.com</li>
        <li><img src="images/github.png" alt="" /> Marthe77</li>
        <li><img src="images/linkedin.png" alt="" /> Iraguha marthe</li>
      </ul>
    </footer>
    
    <script>
      const handleLogout = () => {
        localStorage.removeItem("loggedInUser");
        window.location.reload();
      };
      window.onload = () => {
        //get blogs
        const blogContainer = document.getElementById("blogContainer");
        if (localStorage.getItem("blogs")) {
          const blogs = JSON.parse(localStorage.getItem("blogs"));
          blogContainer.innerHTML = "";
          for (let i = 0; i < blogs.length; i++) {
            const post = `
              <div class="blog-box">
                <div class="blog-img">
                  <img src="${blogs[i].image}" alt="Blog image" />
                </div>
                <div class="blog-text">
                  <span>${blogs[i].postDate}</span>
                  <a href="#" class="blog-title">${blogs[i].title}</a>
                  <p>${blogs[i].description}<a href="blog-details.html#blog${i}">Readmore</a></p>
                  <div class="comment-like">
                    <span>3 Like</span>
                    <span style="border-bottom: 1px dotted rgb(120, 119, 119)">Comments</span>
                  </div>
                </div>
              </div>`;
            blogContainer.innerHTML = blogContainer.innerHTML + post;
          }
        } else {
          blogContainer.innerHTML =
            "<p style='color:white'>No blog posts found</p>";
        }

        if (localStorage.loggedInUser) {
          document.getElementById("loginLogout").innerHTML = `Logout`;
          document
            .getElementById("loginLogout")
            .setAttribute("onclick", "handleLogout()");
        }
      };
    </script>
  </body>
</html>
